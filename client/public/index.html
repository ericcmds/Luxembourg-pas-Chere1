<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Luxembourg Pas Chère - Découvrez comment économiser au Luxembourg</title>
  
  <!-- Primary Meta Tags -->
  <meta name="description" content="Découvrez les meilleures astuces pour vivre à Luxembourg sans se ruiner. Guide indispensable pour économiser au quotidien sur l'alimentation, le logement, les transports et les loisirs.">
  <meta name="keywords" content="Luxembourg, économie, budget, guide, astuces, bon plan, épargne, vie pas chère, économiser">
  <meta name="author" content="Luxembourg Pas Chère">
  
  <!-- Open Graph / Facebook Meta Tags -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://luxembourgpaschere.com/">
  <meta property="og:title" content="Luxembourg Pas Chère - Vivre au Luxembourg sans se ruiner">
  <meta property="og:description" content="Découvrez les meilleures astuces pour vivre à Luxembourg sans se ruiner. Guide indispensable pour économiser au quotidien.">
  <meta property="og:image" content="/images/og-image.jpg">
  <meta property="og:locale" content="fr_FR">
  <meta property="og:site_name" content="Luxembourg Pas Chère">
  
  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://luxembourgpaschere.com/">
  <meta name="twitter:title" content="Luxembourg Pas Chère - Guide d'économies au Luxembourg">
  <meta name="twitter:description" content="Découvrez les meilleures astuces pour vivre à Luxembourg sans se ruiner. Guide indispensable pour économiser au quotidien.">
  <meta name="twitter:image" content="/images/og-image.jpg">
  
  <!-- PWA Related Meta Tags -->
  <meta name="theme-color" content="#E31837">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="LuxPasChère">
  <meta name="application-name" content="Luxembourg Pas Chère">
  <meta name="msapplication-TileColor" content="#E31837">
  <meta name="msapplication-config" content="/browserconfig.xml">
  <meta name="format-detection" content="telephone=no">
  
  <!-- Preload Critical Resources -->
  <link rel="preload" href="/css/critical.css" as="style">
  <link rel="preload" href="/js/critical.js" as="script">
  <link rel="preload" href="/images/hero-background.svg" as="image" type="image/svg+xml">
  <link rel="preload" href="/images/logo.svg" as="image" type="image/svg+xml">
  
  <!-- Performance: DNS Prefetch and Preconnect -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
  
  <!-- Web App Manifest -->
  <link rel="manifest" href="/manifest.json">
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="/images/icons/icon-192x192.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/icon-180x180.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/images/icons/icon-167x167.png">
  
  <!-- Splash Screen Images for iOS -->
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-1668-2224.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-750-1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="/images/splash/apple-splash-640-1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/images/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
  <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
  
  <!-- Critical CSS (inlined for performance) -->
  <link rel="stylesheet" href="/css/critical.css">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Open+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Defer non-critical CSS -->
  <link rel="stylesheet" href="/css/styles.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="/css/home.css" media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/home.css">
  </noscript>
  
  <!-- Critical JavaScript -->
  <script src="/js/critical.js" defer></script>
  
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        media="print" onload="this.media='all'" crossorigin="anonymous"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
  >
  <noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  </noscript>
</head>
<body>
  <!-- Accessibility Skip Link -->
  <a href="#main" class="skip-link">Aller au contenu principal</a>
  
  <!-- Enhanced Loading Indicator with Text -->
  <div class="page-loading">
    <div class="loading-spinner" aria-hidden="true"></div>
    <div class="loading-text">Luxembourg Pas Chère</div>
    <span class="sr-only">Chargement en cours, veuillez patienter...</span>
  </div>
  
  <!-- Header -->
  <header class="site-header">
    <div class="container header-container">
      <a href="/" class="site-logo">
        <span class="logo-text">Luxembourg</span>
        <span class="logo-text accent">Pas Chère</span>
      </a>
      
      <nav class="main-navigation" aria-label="Navigation principale">
        <ul class="nav-menu">
          <li><a href="#about" class="nav-link">À propos</a></li>
          <li><a href="#books" class="nav-link">Livres</a></li>
          <li><a href="#press" class="nav-link">Presse</a></li>
          <li><a href="#contact" class="nav-link">Contact</a></li>
        </ul>
      </nav>
      
      <div class="header-actions">
        <div class="language-selector">
          <button type="button" aria-expanded="false" aria-label="Sélectionner la langue">
            <span>FR</span>
            <i class="fas fa-chevron-down"></i>
          </button>
          <div class="language-dropdown">
            <ul>
              <li><a href="?lang=fr" aria-current="page">Français</a></li>
              <li><a href="?lang=en">English</a></li>
              <li><a href="?lang=de">Deutsch</a></li>
            </ul>
          </div>
        </div>
        
        <a href="https://www.instagram.com/luxembourgpaschere/" class="social-link" aria-label="Suivez-nous sur Instagram" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-instagram"></i>
        </a>
      </div>
      
      <button type="button" class="mobile-menu-toggle" aria-expanded="false" aria-label="Menu">
        <span class="hamburger-icon"></span>
      </button>
    </div>
  </header>
  
  <!-- Mobile Menu -->
  <div class="mobile-menu">
    <div class="mobile-menu-header">
      <div class="site-logo">
        <span class="logo-text">Luxembourg</span>
        <span class="logo-text accent">Pas Chère</span>
      </div>
      <button type="button" class="mobile-menu-close" aria-label="Fermer le menu">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <nav aria-label="Navigation mobile">
      <ul class="mobile-nav-menu">
        <li class="mobile-nav-item">
          <a href="#about" class="mobile-nav-link">
            <i class="fas fa-info-circle"></i>
            <span>À propos</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="#books" class="mobile-nav-link">
            <i class="fas fa-book"></i>
            <span>Livres</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="#press" class="mobile-nav-link">
            <i class="fas fa-newspaper"></i>
            <span>Presse</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a href="#contact" class="mobile-nav-link">
            <i class="fas fa-envelope"></i>
            <span>Contact</span>
          </a>
        </li>
      </ul>
    </nav>
    
    <div class="mobile-menu-footer">
      <div class="mobile-language-selector">
        <div class="mobile-language-list">
          <a href="?lang=fr" class="mobile-language-item active">FR</a>
          <a href="?lang=en" class="mobile-language-item">EN</a>
          <a href="?lang=de" class="mobile-language-item">DE</a>
        </div>
      </div>
      
      <div class="mobile-social-links">
        <a href="https://www.instagram.com/luxembourgpaschere/" class="mobile-social-link" aria-label="Instagram" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-instagram"></i>
        </a>
      </div>
    </div>
  </div>
  
  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay"></div>
  
  <!-- Main Content -->
  <main id="main">
    <!-- Hero Section with Book Showcase -->
    <section class="hero">
      <div class="hero-background"></div>
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title">Découvrez Luxembourg Pas Chère</h1>
          <p class="hero-subtitle">Le guide indispensable pour vivre et économiser au Luxembourg sans se ruiner.</p>
          <a href="#books" class="hero-cta">
            Découvrir maintenant
            <i class="fas fa-arrow-right hero-cta-icon"></i>
          </a>
        </div>
      </div>
    </section>
    
    <!-- Book Showcase Section -->
    <section id="books" class="book-section">
      <div class="container">
        <h2 class="section-title text-center">Notre Livre</h2>
        <p class="section-subtitle text-center">Découvrez comment économiser sur tous les aspects de la vie au Luxembourg</p>
        
        <div class="book-showcase">
          <div class="book-cover">
            <img src="/images/book-cover.jpg" alt="Couverture du livre Luxembourg Pas Chère" class="book-image">
            <div class="book-badge">-28%</div>
          </div>
          
          <div class="book-details">
            <h3 class="book-title">Luxembourg Pas Chère</h3>
            <p class="book-description">
              Ce guide unique vous révèle toutes les astuces pour économiser au Luxembourg : alimentation, transport, logement, sorties culturelles, et bien plus encore. Indispensable pour tout résident ou visiteur du Grand-Duché.
            </p>
            <p class="book-price">
              <span class="book-original-price">34,99€</span>
              24,99€
            </p>
            <a href="#order" class="book-cta">
              Commander
              <i class="fas fa-shopping-cart"></i>
            </a>
          </div>
        </div>
      </div>
    </section>
    
    <!-- À propos Section -->
    <section id="about" class="about-section">
      <div class="container">
        <h2 class="section-title">À propos</h2>
        
        <div class="about-content">
          <div class="about-text">
            <p>
              Luxembourg Pas Chère est né d'une constatation simple : le Luxembourg a la réputation d'être cher, mais il existe de nombreuses façons d'y vivre confortablement sans se ruiner. Notre mission est de vous aider à découvrir ces possibilités.
            </p>
            <p>
              Notre équipe a passé des milliers d'heures à rechercher, tester et compiler les meilleures astuces et conseils pour économiser au Luxembourg, que vous soyez résident de longue date ou nouvel arrivant.
            </p>
            <h3>Notre mission</h3>
            <p>
              Rendre la vie au Luxembourg plus accessible à tous en partageant des informations précieuses sur les économies possibles au quotidien.
            </p>
          </div>
          
          <div class="about-image">
            <img src="/images/about-image.jpg" alt="L'équipe de Luxembourg Pas Chère">
          </div>
        </div>
      </div>
    </section>
    
    <!-- Press Section -->
    <section id="press" class="press-section">
      <div class="container">
        <h2 class="section-title">Presse</h2>
        
        <div class="press-content">
          <div class="press-intro">
            <p>
              Découvrez ce que les médias disent de notre guide et de notre initiative pour rendre le Luxembourg plus accessible.
            </p>
          </div>
          
          <div class="press-mentions">
            <div class="press-item">
              <div class="press-logo">
                <img src="/images/press/rtl.png" alt="RTL Luxembourg">
              </div>
              <div class="press-quote">
                "Un guide indispensable pour tous ceux qui souhaitent maîtriser leur budget au Luxembourg."
              </div>
              <div class="press-source">RTL Luxembourg</div>
            </div>
            
            <div class="press-item">
              <div class="press-logo">
                <img src="/images/press/wort.png" alt="Luxemburger Wort">
              </div>
              <div class="press-quote">
                "Luxembourg Pas Chère révèle des astuces inédites pour économiser dans tous les aspects de la vie quotidienne."
              </div>
              <div class="press-source">Luxemburger Wort</div>
            </div>
            
            <div class="press-item">
              <div class="press-logo">
                <img src="/images/press/paperjam.png" alt="Paperjam">
              </div>
              <div class="press-quote">
                "Une approche rafraîchissante et pragmatique pour gérer son budget dans l'un des pays les plus chers d'Europe."
              </div>
              <div class="press-source">Paperjam</div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Contact Section -->
    <section id="contact" class="contact-section">
      <div class="container">
        <div class="contact-container">
          <div class="contact-info">
            <h2 class="section-title">Contact</h2>
            <p>
              Vous avez des questions ou des suggestions? N'hésitez pas à nous contacter. Notre équipe vous répondra dans les plus brefs délais.
            </p>
            
            <div class="contact-details">
              <div class="contact-detail">
                <div class="contact-detail-icon">
                  <i class="fas fa-envelope"></i>
                </div>
                <div class="contact-detail-content">
                  <div class="contact-detail-title">Email</div>
                  <div class="contact-detail-text">info@luxembourgpaschere.lu</div>
                </div>
              </div>
              
              <div class="contact-detail">
                <div class="contact-detail-icon">
                  <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="contact-detail-content">
                  <div class="contact-detail-title">Adresse</div>
                  <div class="contact-detail-text">Luxembourg-Ville, Grand-Duché de Luxembourg</div>
                </div>
              </div>
              
              <div class="contact-detail">
                <div class="contact-detail-icon">
                  <i class="fas fa-clock"></i>
                </div>
                <div class="contact-detail-content">
                  <div class="contact-detail-title">Disponibilité</div>
                  <div class="contact-detail-text">Lundi au Vendredi, 9h-17h</div>
                </div>
              </div>
            </div>
            
            <div class="contact-social">
              <a href="https://www.instagram.com/luxembourgpaschere/" class="social-link" aria-label="Instagram" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-instagram"></i>
              </a>
              <a href="https://www.facebook.com/luxembourgpaschere/" class="social-link" aria-label="Facebook" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="https://twitter.com/luxpaschere" class="social-link" aria-label="Twitter" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitter"></i>
              </a>
            </div>
          </div>
          
          <div class="contact-form-container">
            <h3 class="contact-form-title">Envoyez-nous un message</h3>
            
            <form class="contact-form">
              <div class="form-group">
                <label for="name" class="form-label">Nom</label>
                <input type="text" id="name" name="name" class="form-control" required>
              </div>
              
              <div class="form-group">
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" name="email" class="form-control" required>
              </div>
              
              <div class="form-group">
                <label for="subject" class="form-label">Sujet</label>
                <input type="text" id="subject" name="subject" class="form-control" required>
              </div>
              
              <div class="form-group">
                <label for="message" class="form-label">Message</label>
                <textarea id="message" name="message" class="form-control" rows="5" required></textarea>
              </div>
              
              <button type="submit" class="form-submit">
                Envoyer
                <i class="fas fa-paper-plane"></i>
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Newsletter Section -->
    <section class="newsletter-section">
      <div class="container newsletter-container">
        <h2 class="newsletter-title">Restez informé</h2>
        <p class="newsletter-subtitle">
          Inscrivez-vous à notre newsletter pour recevoir nos derniers conseils et astuces pour économiser au Luxembourg.
        </p>
        
        <form class="newsletter-form">
          <input type="email" class="newsletter-input" placeholder="Votre adresse email" required>
          <button type="submit" class="newsletter-submit">S'inscrire</button>
        </form>
        
        <p class="newsletter-privacy">
          En vous inscrivant, vous acceptez notre politique de confidentialité. Nous respectons votre vie privée et ne partagerons jamais vos informations.
        </p>
      </div>
    </section>
  </main>
  
  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-container">
        <div class="footer-about-column">
          <a href="/" class="footer-logo">Luxembourg Pas Chère</a>
          <p class="footer-about">
            Découvrez comment vivre confortablement au Luxembourg sans se ruiner. Astuces, bons plans et conseils pour économiser au quotidien.
          </p>
          <div class="footer-social">
            <a href="https://www.instagram.com/luxembourgpaschere/" class="footer-social-link" aria-label="Instagram" target="_blank" rel="noopener noreferrer">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.facebook.com/luxembourgpaschere/" class="footer-social-link" aria-label="Facebook" target="_blank" rel="noopener noreferrer">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://twitter.com/luxpaschere" class="footer-social-link" aria-label="Twitter" target="_blank" rel="noopener noreferrer">
              <i class="fab fa-twitter"></i>
            </a>
          </div>
        </div>
        
        <div class="footer-links-column">
          <h3 class="footer-title">Navigation</h3>
          <ul class="footer-links">
            <li class="footer-link-item"><a href="#about" class="footer-link">À propos</a></li>
            <li class="footer-link-item"><a href="#books" class="footer-link">Livres</a></li>
            <li class="footer-link-item"><a href="#press" class="footer-link">Presse</a></li>
            <li class="footer-link-item"><a href="#contact" class="footer-link">Contact</a></li>
          </ul>
        </div>
        
        <div class="footer-links-column">
          <h3 class="footer-title">Services</h3>
          <ul class="footer-links">
            <li class="footer-link-item"><a href="/conseils" class="footer-link">Conseils</a></li>
            <li class="footer-link-item"><a href="/blog" class="footer-link">Blog</a></li>
            <li class="footer-link-item"><a href="/faq" class="footer-link">FAQ</a></li>
            <li class="footer-link-item"><a href="/ateliers" class="footer-link">Ateliers</a></li>
          </ul>
        </div>
        
        <div class="footer-contact-column">
          <h3 class="footer-title">Contact</h3>
          <div class="footer-contact-item">
            <span class="footer-contact-icon"><i class="fas fa-envelope"></i></span>
            <span>info@luxembourgpaschere.lu</span>
          </div>
          <div class="footer-contact-item">
            <span class="footer-contact-icon"><i class="fas fa-map-marker-alt"></i></span>
            <span>Luxembourg-Ville, Grand-Duché de Luxembourg</span>
          </div>
          <div class="footer-contact-item">
            <span class="footer-contact-icon"><i class="fas fa-clock"></i></span>
            <span>Lundi au Vendredi, 9h-17h</span>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p class="footer-copyright">
          &copy; 2025 Luxembourg Pas Chère. Tous droits réservés.
        </p>
        
        <div class="footer-bottom-links">
          <a href="/confidentialite" class="footer-bottom-link">Politique de confidentialité</a>
          <a href="/mentions-legales" class="footer-bottom-link">Mentions légales</a>
          <a href="/cgv" class="footer-bottom-link">CGV</a>
        </div>
      </div>
    </div>
  </footer>
  
  <!-- Cookie Consent Banner -->
  <div class="cookie-banner">
    <div class="container cookie-content">
      <p class="cookie-text">
        Nous utilisons des cookies pour améliorer votre expérience sur notre site. En continuant à naviguer, vous acceptez notre utilisation des cookies.
      </p>
      <div class="cookie-actions">
        <button class="btn btn-primary cookie-btn accept-cookies">Accepter tous les cookies</button>
        <button class="btn btn-outline cookie-btn essential-cookies">Accepter uniquement les cookies essentiels</button>
      </div>
    </div>
  </div>
  
  <!-- Back to Top Button -->
  <a href="#" class="back-to-top" aria-label="Retour en haut de page">
    <i class="fas fa-arrow-up"></i>
  </a>
  
  <!-- Main JavaScript -->
  <script src="/js/main.js" defer></script>
  
  <!-- Enhanced Service Worker Registration with Update Handling -->
  <script>
    // Initialize Service Worker for PWA functionality
    if ('serviceWorker' in navigator) {
      // Wait until the page is fully loaded
      window.addEventListener('load', () => {
        // Register the service worker from the root path
        navigator.serviceWorker.register('/service-worker.js', { scope: '/' })
          .then(registration => {
            console.log('ServiceWorker registered successfully with scope:', registration.scope);
            
            // Check for updates to the Service Worker
            registration.addEventListener('updatefound', () => {
              // An updated service worker has appeared in registration.installing!
              const newWorker = registration.installing;
              console.log('New service worker installing:', newWorker);
              
              newWorker.addEventListener('statechange', () => {
                // Has service worker state changed?
                console.log('Service worker state changed to:', newWorker.state);
                
                // When the service worker is installed, show a notification
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  console.log('New content is available, please refresh');
                  
                  // Show update notification to the user
                  showUpdateNotification();
                }
              });
            });
          })
          .catch(error => {
            console.error('ServiceWorker registration failed:', error);
          });
        
        // Handle service worker controlled changes
        let refreshing = false;
        navigator.serviceWorker.addEventListener('controllerchange', () => {
          if (!refreshing) {
            // Avoid refreshing the page multiple times
            refreshing = true;
            console.log('Service worker has been updated and is now controlling the page');
          }
        });
      });
    }
    
    // Function to show update notification
    function showUpdateNotification() {
      // Create update notification element
      const updateBanner = document.createElement('div');
      updateBanner.className = 'update-notification';
      updateBanner.innerHTML = `
        <div class="update-notification-content">
          <span class="update-notification-message">
            Une nouvelle version est disponible! 
          </span>
          <div class="update-notification-actions">
            <button class="update-notification-button update-now">Mettre à jour maintenant</button>
            <button class="update-notification-button update-later">Plus tard</button>
          </div>
        </div>
      `;
      
      // Style the notification
      Object.assign(updateBanner.style, {
        position: 'fixed',
        bottom: '0',
        left: '0',
        right: '0',
        padding: '10px',
        backgroundColor: '#E31837',
        color: 'white',
        textAlign: 'center',
        zIndex: '9999',
        boxShadow: '0 -2px 10px rgba(0,0,0,0.2)',
        display: 'flex',
        justifyContent: 'center',
        transition: 'transform 0.3s ease-in-out',
        transform: 'translateY(0)'
      });
      
      // Add event listeners to buttons
      updateBanner.querySelector('.update-now').addEventListener('click', () => {
        // Refresh the page to activate the new service worker
        window.location.reload();
      });
      
      updateBanner.querySelector('.update-later').addEventListener('click', () => {
        // Hide the notification
        updateBanner.style.transform = 'translateY(100%)';
        // Remove it after animation completes
        setTimeout(() => {
          if (document.body.contains(updateBanner)) {
            document.body.removeChild(updateBanner);
          }
        }, 300);
      });
      
      // Add to page
      document.body.appendChild(updateBanner);
    }
    
    // Handle online/offline events
    window.addEventListener('online', handleNetworkChange);
    window.addEventListener('offline', handleNetworkChange);
    
    function handleNetworkChange(event) {
      const isOnline = navigator.onLine;
      console.log('Network status changed:', isOnline ? 'online' : 'offline');
      
      // Show appropriate notification
      if (isOnline) {
        showConnectedNotification();
      } else {
        showOfflineNotification();
      }
    }
    
    function showOfflineNotification() {
      // Only create notification if it doesn't already exist
      if (document.querySelector('.network-notification')) return;
      
      const offlineNotification = document.createElement('div');
      offlineNotification.className = 'network-notification offline';
      offlineNotification.innerHTML = `
        <div class="network-notification-content">
          <i class="fas fa-wifi"></i>
          <span class="network-message">Vous êtes hors ligne. Certaines fonctionnalités peuvent être limitées.</span>
          <button class="notification-close" aria-label="Fermer">×</button>
        </div>
      `;
      
      styleNetworkNotification(offlineNotification, '#f44336');
      document.body.appendChild(offlineNotification);
      
      // Automatically remove after 5 seconds
      setTimeout(() => {
        if (document.body.contains(offlineNotification)) {
          offlineNotification.style.opacity = '0';
          setTimeout(() => {
            if (document.body.contains(offlineNotification)) {
              document.body.removeChild(offlineNotification);
            }
          }, 300);
        }
      }, 5000);
      
      // Add close button handler
      offlineNotification.querySelector('.notification-close').addEventListener('click', () => {
        offlineNotification.style.opacity = '0';
        setTimeout(() => {
          if (document.body.contains(offlineNotification)) {
            document.body.removeChild(offlineNotification);
          }
        }, 300);
      });
    }
    
    function showConnectedNotification() {
      // Only create notification if it doesn't already exist
      if (document.querySelector('.network-notification')) return;
      
      const onlineNotification = document.createElement('div');
      onlineNotification.className = 'network-notification online';
      onlineNotification.innerHTML = `
        <div class="network-notification-content">
          <i class="fas fa-wifi"></i>
          <span class="network-message">Connexion rétablie! Toutes les fonctionnalités sont disponibles.</span>
          <button class="notification-close" aria-label="Fermer">×</button>
        </div>
      `;
      
      styleNetworkNotification(onlineNotification, '#4CAF50');
      document.body.appendChild(onlineNotification);
      
      // Automatically remove after 3 seconds
      setTimeout(() => {
        if (document.body.contains(onlineNotification)) {
          onlineNotification.style.opacity = '0';
          setTimeout(() => {
            if (document.body.contains(onlineNotification)) {
              document.body.removeChild(onlineNotification);
            }
          }, 300);
        }
      }, 3000);
      
      // Add close button handler
      onlineNotification.querySelector('.notification-close').addEventListener('click', () => {
        onlineNotification.style.opacity = '0';
        setTimeout(() => {
          if (document.body.contains(onlineNotification)) {
            document.body.removeChild(onlineNotification);
          }
        }, 300);
      });
    }
    
    function styleNetworkNotification(element, bgColor) {
      Object.assign(element.style, {
        position: 'fixed',
        top: '0',
        left: '50%',
        transform: 'translateX(-50%)',
        backgroundColor: bgColor,
        color: 'white',
        padding: '10px 20px',
        borderRadius: '0 0 5px 5px',
        zIndex: '9999',
        boxShadow: '0 2px 10px rgba(0,0,0,0.2)',
        maxWidth: '90%',
        width: '400px',
        textAlign: 'center',
        opacity: '1',
        transition: 'opacity 0.3s ease-in-out'
      });
      
      const content = element.querySelector('.network-notification-content');
      Object.assign(content.style, {
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'space-between'
      });
      
      const icon = element.querySelector('i');
      Object.assign(icon.style, {
        marginRight: '10px'
      });
      
      const closeBtn = element.querySelector('.notification-close');
      Object.assign(closeBtn.style, {
        background: 'transparent',
        border: 'none',
        color: 'white',
        fontSize: '24px',
        cursor: 'pointer',
        marginLeft: '10px'
      });
    }
    
    // Initial network check 
    if (!navigator.onLine) {
      showOfflineNotification();
    }
  </script>
</body>
</html>